<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Penunjang Susenas</title>
    <style>
        /* Aturan umum untuk tabel */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            width: 50%;
            padding: 8px;
            text-align: center; /* Pusatkan secara horizontal */
            vertical-align: middle; /* Pusatkan secara vertikal */
            border: 1px solid #ddd;
        }

        /* Agar teks di header dan sel terlihat jelas */
        th {
            background-color: #f2f2f2;
        }

        h4 {
            background-color:rgb(142, 221, 140);
        }

        tr:nth-child(even) {
            background-color:rgba(242, 242, 242, 0.6); /* Warna untuk baris genap */
        }

        tr:nth-child(odd) {
            background-color: #ffffff; /* Warna untuk baris ganjil */
        }

        /* Responsif: Kolom akan diatur ulang di perangkat mobile */
        @media (max-width: 600px) {
            table, thead, tbody, th, td, tr {
                display: block;
            }

            th {
                background-color: #f9f9f9;
                font-weight: bold;
                text-align: center;
                padding: 10px;
            }

            td {
                display: flex;
                justify-content: space-between;
                padding: 10px;
                border: none;
                position: relative;
            }

            td::before {
                content: attr(data-label);
                position: absolute;
                left: 0;
                top: 10px;
                font-weight: bold;
            }

            tr {
                margin-bottom: 10px;
                border-bottom: 1px solid #ddd;
            }
        }

        /* Notifikasi untuk meminta perubahan orientasi */
        .orientation-notification {
            display: none;
            background-color: #f9e5e5;
            color: #d9534f;
            padding: 15px;
            border: 1px solid #d9534f;
            margin-bottom: 20px;
            text-align: center;
            font-weight: bold;
        }

        /* Tampilan saat notifikasi muncul */
        .show-notification {
            display: block;
        }

        .value-input:placeholder-shown {
            border: 2px solid red;
        }

        .btn-container {
            text-align: center;
            margin-top: 20px;
        }

        .btn-next {
            background: linear-gradient(135deg, #4f46e5, #6366f1);
            color: white;
            border: none;
            padding: 12px 28px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.25s ease;
            box-shadow: 0 6px 14px rgba(0, 0, 0, 0.2);
        }

        .btn-next:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.25);
        }

        .btn-next:active {
            transform: translateY(0);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
        }

    </style>
</head>
<body>

    <!-- Notifikasi orientasi -->
    <div id="orientationNotification" class="orientation-notification">
        <p>Untuk pengalaman terbaik, harap putar layar Anda ke mode <strong>landscape</strong>.</p>
    </div>

    <!-- <h4 style="text-align:center;"><strong>BLOK VI. REKAPITULASI PENERIMAAN DAN PENGELUARAN RUMAH TANGGA SELAMA SETAHUN TERAKHIR (DALAM RUPIAH)</strong></h4> -->

    <table style="width: 100%; border-collapse: collapse; table-layout: fixed;">
        <thead>
            <tr>
                <th colspan="4" style="background-color: rgb(106, 106, 209);">Blok IV.3.2. REKAPITULASI PENGELUARAN MAKANAN, MINUMAN, DAN ROKOK (DALAM RUPIAH)</th>
            </tr>
        </thead>
        <thead>
            <tr>
                <th>Jenis Pengeluaran</th>
                <th>Pembelian Seminggu Terakhir</th>
                <th>Produksi Sendiri, Pemberian, dsb. Seminggu Terakhir</th>
                <th>Total Seminggu Terakhir <br>[Kolom 3 + Kolom 4]</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>(1)</td>
                <td>(2)</td>
                <td>(3)</td>
                <td>(4)</td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 25%;">1. Padi-padian (R.1)</td>
                <td style="width: 25%;"><input type="text" class="value-input" id="1_makanan_beli" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;"><input type="text" class="value-input" id="1_makanan_produksi" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;" id="1_makanan_total"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 25%;">2. Umbi-Umbian (R.8)</td>
                <td style="width: 25%;"><input type="text" class="value-input" id="2_makanan_beli" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;"><input type="text" class="value-input" id="2_makanan_produksi" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;" id="2_makanan_total"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 25%;">3. Ikan/udang/cumi/kerang (R.16)</td>
                <td style="width: 25%;"><input type="text" class="value-input" id="3_makanan_beli" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;"><input type="text" class="value-input" id="3_makanan_produksi" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;" id="3_makanan_total"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 25%;">4. Daging (R.61)</td>
                <td style="width: 25%;"><input type="text" class="value-input" id="4_makanan_beli" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;"><input type="text" class="value-input" id="4_makanan_produksi" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;" id="4_makanan_total"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 25%;">5. Telur dan Susu (R.74)</td>
                <td style="width: 25%;"><input type="text" class="value-input" id="5_makanan_beli" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;"><input type="text" class="value-input" id="5_makanan_produksi" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;" id="5_makanan_total"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 25%;">6. Sayur-sayuran (R.85)</td>
                <td style="width: 25%;"><input type="text" class="value-input" id="6_makanan_beli" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;"><input type="text" class="value-input" id="6_makanan_produksi" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;" id="6_makanan_total"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 25%;">7. Kacang-kacangan (R.121)</td>
                <td style="width: 25%;"><input type="text" class="value-input" id="7_makanan_beli" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;"><input type="text" class="value-input" id="7_makanan_produksi" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;" id="7_makanan_total"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 25%;">8. Buah-buahan (R.129)</td>
                <td style="width: 25%;"><input type="text" class="value-input" id="8_makanan_beli" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;"><input type="text" class="value-input" id="8_makanan_produksi" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;" id="8_makanan_total"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 25%;">9. Minyak dan Kelapa (R.154)</td>
                <td style="width: 25%;"><input type="text" class="value-input" id="9_makanan_beli" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;"><input type="text" class="value-input" id="9_makanan_produksi" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;" id="9_makanan_total"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 25%;">10. Bahan Minuman (R.159)</td>
                <td style="width: 25%;"><input type="text" class="value-input" id="10_makanan_beli" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;"><input type="text" class="value-input" id="10_makanan_produksi" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;" id="10_makanan_total"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 25%;">11. Bumbu-bumbuan (R.167)</td>
                <td style="width: 25%;"><input type="text" class="value-input" id="bumbu_makanan_beli" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;"><input type="text" class="value-input" id="bumbu_makanan_produksi" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;" id="11_makanan_total"></td>
                <!-- <td style="width: 25%;"><input type="text" class="value-input" id="11_makanan_total" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td> -->
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 25%;">12. Bahan Makanan Lainnya (R.182)</td>
                <td style="width: 25%;"><input type="text" class="value-input" id="lainnya_makanan_beli" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;"><input type="text" class="value-input" id="lainnya_makanan_produksi" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;" id="12_makanan_total"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 25%;">13. Makanan dan Minuman Jadi (Blok IV.3.1 Baris Jumlah)</td>
                <td style="width: 25%;"><input type="text" class="value-input" id="jadi_makanan_beli" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;"><input type="text" class="value-input" id="jadi_makanan_produksi" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;" id="13_makanan_total"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 25%;">14. Rokok dan Tembakau (Blok IV.3.1 Baris Jumlah)</td>
                <td style="width: 25%;"><input type="text" class="value-input" id="rokok_makanan_beli" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;"><input type="text" class="value-input" id="rokok_makanan_produksi" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 25%;" id="14_makanan_total"></td>
            </tr>

            <tr id="notifikasi_makanan">
                <td colspan="4" style="text-align: center; border: 1px solid black; padding: 6px; background-color: #e49b9b;">
                    <strong>Jika Perhitungan Muncul NaN, Mohon Isi Isian Yang Kosong</strong>
                </td>
            </tr>

            <tr class="total" style="background-color: rgb(209, 208, 119);">
                <td style="width: 25%; text-align: left; padding-left: 3%; border: 1.5px solid black;"><strong>15. SUBJUMLAH [R.1 s.d. R.14]</strong></td>
                <td style="width: 25%; border: 1.5px solid black;" id="total_beli"></td>
                <td style="width: 25%; border: 1.5px solid black;" id="total_produksi"></td>
                <td style="width: 25%; border: 1.5px solid black;" id="total_makanan"></td>
            </tr>
            <tr class="total" style="background-color: rgb(209, 208, 119);">
                <td style="width: 25%; text-align: left; padding-left: 3%; border: 1.5px solid black;"><strong>16. RATA-RATA PENGELUARAN MAKANAN SEBULAN [R.15 x 30 / 7]</strong></td>
                <td style="width: 25%; border: 1.5px solid black; background-color: grey;" id="total_beli"></td>
                <td style="width: 25%; border: 1.5px solid black; background-color: grey;" id="total_produksi"></td>
                <td style="width: 25%; border: 1.5px solid black;" id="rata_makanan"></td>
            </tr>
        </tbody>
    </table>

    <table style="width: 100%; border-collapse: collapse; table-layout: fixed;">
        <thead>
            <tr>
                <th colspan="3" style="background-color: rgb(106, 106, 209);">Blok IV.3.3. REKAPITULASI PENGELUARAN UNTUK BARANG-BARANG BUKAN MAKANAN (DALAM RUPIAH)</th>
            </tr>
        </thead>
        <thead>
            <tr>
                <th>Jenis Pengeluaran</th>
                <th>Sebulan Terakhir</th>
                <th>Setahun Terakhir</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>(1)</td>
                <td>(2)</td>
                <td>(3)</td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 30%;">1. Perumahan dan Fasilitas Rumah Tangga<br> A. Sebulan Terakhir (R.226 Kolom 4)</td>
                <td style="width: 30%;"><input type="text" class="value-input" id="1a_barang_sebulan" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 30%;"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 30%;">B. Setahun Terakhir (R.226 Kolom 5)</td>
                <td style="width: 30%;"></td>
                <td style="width: 30%;"><input type="text" class="value-input" id="1b_barang_setahun" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 30%;">2. Aneka Barang dan Jasa<br> A. Sebulan Terakhir (R.268 Kolom 4)</td>
                <td style="width: 30%;"><input type="text" class="value-input" id="2a_barang_sebulan" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
                <td style="width: 30%;"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 30%;">B. Setahun Terakhir (R.268 Kolom 5)</td>
                <td style="width: 30%;"></td>
                <td style="width: 30%;"><input type="text" class="value-input" id="2b_barang_setahun" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 30%;">3. Pakaian, Alas Kaki, dan Tutup Kepala (R.307)</td>
                <td style="width: 30%;"></td>
                <td style="width: 30%;"><input type="text" class="value-input" id="3_barang_setahun" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 30%;">4. Barang Tahan Lama (R.316)</td>
                <td style="width: 30%;"></td>
                <td style="width: 30%;"><input type="text" class="value-input" id="4_barang_setahun" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 30%;">5. Pajak, Pungutan, dan Asuransi (R.334)</td>
                <td style="width: 30%;"></td>
                <td style="width: 30%;"><input type="text" class="value-input" id="5_barang_setahun" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
            </tr>
            <tr>
                <td style="text-align: left; padding-left: 3%; width: 30%;">6. Keperluan Pesta dan Upacara/Kenduri (R.341)</td>
                <td style="width: 30%;"></td>
                <td style="width: 30%;"><input type="text" class="value-input" id="6_barang_setahun" placeholder="" inputmode="numeric"pattern="[0-9]*" value="" oninput="formatAndCalculate(this)"></td>
            </tr>
            <tr id="notifikasi_bukan_makanan">
                <td colspan="3" style="text-align: center; border: 1px solid black; padding: 6px; background-color: #e49b9b;">
                    <strong>Jika Perhitungan Muncul NaN, Mohon Isi Isian Yang Kosong</strong>
                </td>
            </tr>

            <tr class="total" style="background-color: rgb(209, 208, 119);">
                <td style="width: 30%; text-align: left; padding-left: 3%; border: 1.5px solid black;"><strong>7. JUMLAH PENGELUARAN <br> A. Sebulan Terakhir (R.1 s.d. R.2 Kolom 3)</strong></td>
                <td style="width: 30%; border: 1.5px solid black;" id="total_sebulan"></td>
                <td style="width: 30%; border: 1.5px solid black; background-color: grey;"></td>
            </tr>
            <tr class="total" style="background-color: rgb(209, 208, 119);">
                <td style="width: 30%; text-align: left; padding-left: 3%; border: 1.5px solid black;"><strong>7. JUMLAH PENGELUARAN <br> B. Setahun Terakhir (R.1 s.d. R.6 Kolom 4)</strong></td>
                <td style="width: 30%; border: 1.5px solid black; background-color: grey;"></td>
                <td style="width: 30%; border: 1.5px solid black;" id="total_setahun"></td>

            </tr>
            <tr class="total" style="background-color: rgb(209, 208, 119);">
                <td style="width: 30%; text-align: left; padding-left: 3%; border: 1.5px solid black;"><strong>8. RATA-RATA PENGELUARAN BUKAN MAKANAN SEBULAN [R.7.a Kolom (3) + (R.7.b kolom (4)/12)]</strong></td>
                <td style="width: 30%; border: 1.5px solid black;" id="rata_bukan_makanan"></td>
                <td style="width: 30%; border: 1.5px solid black; background-color: grey;"></td>
            </tr>
            <tr class="total" style="background-color: rgb(209, 208, 119);">
                <td style="width: 30%; text-align: left; padding-left: 3%; border: 1.5px solid black;"><strong>9. RATA-RATA PENGELUARAN RUMAH TANGGA SEBULAN [Blok IV.3.2, R.16 Kolom (5) + Blok IV.3.3, R.8 Kolom (3)]</strong></td>
                <td style="width: 30%; border: 1.5px solid black;" id="rata_pengeluaran"></td>
                <td style="width: 30%; border: 1.5px solid black; background-color: grey;"></td>
            </tr>
        </tbody>
    </table>

    <!-- <div class="btn-container">
        <button class="btn-next" onclick="nextPage()">
            Next â†’
        </button>
    </div> -->

<script>
    let rataPengeluaran = 0;
</script>

<script>
    // Fungsi untuk memformat angka dengan pemisah ribuan
    function formatNumber(value) {
        if (isNaN(value) || value === null || value === '') return '';
        const num = parseFloat(value);

        // Format angka dengan pemisah ribuan dan koma desimal gaya Indonesia
        return num.toLocaleString('id-ID', {
            minimumFractionDigits: 0,
            maximumFractionDigits: 0
        });
    }

    // Fungsi untuk menghapus format angka (mengembalikan hanya angka)
    function unformatNumber(value) {
        return value.replace(/\./g, '');
    }

    // Fungsi untuk memformat input dan menghitung total
    function formatAndCalculate(input) {
        // Hapus pemisah ribuan sebelum mengolah nilai
        const rawValue = unformatNumber(input.value);

        // Pastikan nilai adalah angka valid, jika tidak set ke 0
        const numericValue = rawValue === '' ? '' : parseFloat(rawValue);

        // Perbarui input dengan nilai yang diformat
        input.value = formatNumber(numericValue);

        // Hitung total semua input
        calculateTotal();
    }

    function calculateTotal() {
        // Ambil semua elemen input dengan class 'value-input'
        const inputs = document.querySelectorAll('.value-input');
        let totalBeli = 0;
        let totalProduksi = 0;
        let totalInputSub = 0;
        let sum1 = 0;
        let sum2 = 0;
        let sum3 = 0;
        let sum4 = 0;
        let sum5 = 0;
        let sum6 = 0;
        let sum7 = 0;
        let sum8 = 0;
        let sum9 = 0;
        let sum10 = 0;
        let sum11 = 0;
        let sum12 = 0;
        let sum13 = 0;
        let sum14 = 0;
        let totalSebulan = 0;
        let totalSetahun = 0;

        // Loop melalui setiap input untuk menjumlahkan nilai pemasukan dan pengeluaran secara terpisah
        inputs.forEach(input => {
            const rawValue = unformatNumber(input.value); // Hapus format
            const numericValue = parseFloat(rawValue); // Pastikan nilai valid

            // Memeriksa apakah input ini untuk pemasukan atau pengeluaran berdasarkan ID
            if (input.id.includes('beli')) {
                totalBeli += numericValue; // Tambahkan ke total pemasukan
            } else if (input.id.includes('produksi')) {
                totalProduksi += numericValue; // Tambahkan ke total pengeluaran
            }
            if (input.id.includes('1_makanan')) {
                sum1+= numericValue; // Tambahkan ke total pengeluaran
                console.log("sum1 nambah dari:", input.id, "nilai:", numericValue);
            } else if (input.id.includes('2_makanan')) {
                sum2 += numericValue; // Tambahkan ke total output
            } else if (input.id.includes('3_makanan')) {
                sum3 += numericValue; // Tambahkan ke total output
            } else if (input.id.includes('4_makanan')) {
                sum4 += numericValue; // Tambahkan ke total output
            } else if (input.id.includes('5_makanan')) {
                sum5 += numericValue; // Tambahkan ke total output
            } else if (input.id.includes('6_makanan')) {
                sum6 += numericValue; // Tambahkan ke total output
            } else if (input.id.includes('7_makanan')) {
                sum7 += numericValue; // Tambahkan ke total output
            } else if (input.id.includes('8_makanan')) {
                sum8 += numericValue; // Tambahkan ke total output
            } else if (input.id.includes('9_makanan')) {
                sum9 += numericValue; // Tambahkan ke total output
            } else if (input.id.includes('10_makanan')) {
                sum10 += numericValue; // Tambahkan ke total output
            } else if (input.id.includes('bumbu_makanan')) {
                sum11 += numericValue; // Tambahkan ke total output
            } else if (input.id.includes('lainnya_makanan')) {
                sum12 += numericValue; // Tambahkan ke total output
            } else if (input.id.includes('jadi_makanan')) {
                sum13 += numericValue; // Tambahkan ke total output
            } else if (input.id.includes('rokok_makanan')) {
                sum14 += numericValue; // Tambahkan ke total output
            } else if (input.id.includes('barang_sebulan')) {
                totalSebulan += numericValue; // Tambahkan ke total output
            } else if (input.id.includes('barang_setahun')) {
                totalSetahun += numericValue; // Tambahkan ke total output
            }
        });

        // Tampilkan hasil dengan format pemisah ribuan
        const totalMakanan = totalBeli + totalProduksi;
        document.getElementById('total_beli').textContent = formatNumber(totalBeli);
        document.getElementById('total_produksi').textContent = formatNumber(totalProduksi);
        document.getElementById('1_makanan_total').textContent = formatNumber(sum1);
        document.getElementById('2_makanan_total').textContent = formatNumber(sum2);
        document.getElementById('3_makanan_total').textContent = formatNumber(sum3);
        document.getElementById('4_makanan_total').textContent = formatNumber(sum4);
        document.getElementById('5_makanan_total').textContent = formatNumber(sum5);
        document.getElementById('6_makanan_total').textContent = formatNumber(sum6);
        document.getElementById('7_makanan_total').textContent = formatNumber(sum7);
        document.getElementById('8_makanan_total').textContent = formatNumber(sum8);
        document.getElementById('9_makanan_total').textContent = formatNumber(sum9);
        document.getElementById('10_makanan_total').textContent = formatNumber(sum10);
        document.getElementById('11_makanan_total').textContent = formatNumber(sum11);
        document.getElementById('12_makanan_total').textContent = formatNumber(sum12);
        document.getElementById('13_makanan_total').textContent = formatNumber(sum13);
        document.getElementById('14_makanan_total').textContent = formatNumber(sum14);
        document.getElementById('total_makanan').textContent = formatNumber(totalMakanan);
        document.getElementById('total_sebulan').textContent = formatNumber(totalSebulan);
        document.getElementById('total_setahun').textContent = formatNumber(totalSetahun);

        // Menghitung dan menampilkan selisih
        const rataMakanan = totalMakanan*30/7;
        document.getElementById('rata_makanan').textContent = formatNumber(rataMakanan);

        const rataBukanMakanan = totalSetahun/12+totalSebulan;
        document.getElementById('rata_bukan_makanan').textContent = formatNumber(rataBukanMakanan);

        rataPengeluaran = rataBukanMakanan+rataMakanan;
        document.getElementById('rata_pengeluaran').textContent = formatNumber(rataPengeluaran);

        // ambil elemen notifikasi
        const notifRow = document.getElementById('notifikasi_makanan');

        // kalau semua sudah terisi, sembunyikan
        if (!isNaN(rataMakanan)) {
            notifRow.style.display = 'none';
        } else {
            notifRow.style.display = ''; // tampil lagi kalau ada yang kosong
        }

         // ambil elemen notifikasi
        const notifRow2 = document.getElementById('notifikasi_bukan_makanan');

        // kalau semua sudah terisi, sembunyikan
        if (!isNaN(rataBukanMakanan)) {
            notifRow2.style.display = 'none';
        } else {
            notifRow2.style.display = ''; // tampil lagi kalau ada yang kosong
        }
    }

    // Menambahkan event listener untuk pindah antar input saat menekan Enter
    document.querySelectorAll('.value-input').forEach((input, index, inputs) => {
        input.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                event.preventDefault(); // Mencegah aksi default tombol Enter
                const nextInput = inputs[index + 1]; // Ambil input berikutnya
                if (nextInput) {
                    nextInput.focus(); // Pindahkan fokus ke input berikutnya
                }
            }
        });
    });
</script>


<script>
    // Fungsi untuk mengecek orientasi perangkat
    function checkOrientation() {
        const notification = document.getElementById('orientationNotification');

        // Cek apakah orientasi portrait
        if (window.innerHeight > window.innerWidth) {
            notification.classList.add('show-notification');
        } else {
            notification.classList.remove('show-notification');
        }
    }

    // Jalankan saat halaman dimuat dan setiap kali orientasi berubah
    window.addEventListener('load', checkOrientation);
    window.addEventListener('orientationchange', checkOrientation);

    // Panggil checkOrientation setiap kali ukuran jendela berubah
    window.addEventListener('resize', checkOrientation);
</script>

<!-- <script>
  window.nextPage = function () {
    localStorage.setItem("rata_pengeluaran", rataPengeluaran);
    window.location.href = "neraca.html";
  };
</script> -->

<!-- <script> untuk neraca.html
    const rataPengeluaran = localStorage.getItem("rata_pengeluaran");
    console.log(rataPengeluaran);
</script> -->

</body>
</html>
